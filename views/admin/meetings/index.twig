{% extends 'layouts/default.twig' %}

{% block content %}
<h1 class="font-bold text-3xl">Meetings Admin</h1>

{% for msg in getFlashMessages('error') %}
    <div class="rounded p-2 font-bold text-white bg-red-400 my-4">{{msg}}</div>
{% endfor %}

{% for msg in getFlashMessages('success') %}
    <div class="rounded p-2 font-bold text-white bg-green-500 my-4">{{msg}}</div>
{% endfor %}

<div class="table w-full py-4">
    <div class="table-header-group">
        <div class="table-row bg-slate-200 font-bold">
            <div class="table-cell p-2">Meeting</div>
            <div class="table-cell p-2">Owner</div>
            <div class="table-cell p-2 text-right">Actions</div>
        </div>
    </div>

    <div class="table-row-group">
        {% if rooms.length > 0 %}
            {% for room in rooms %}
                <div class="table-row hover:bg-slate-100">
                    <div class="table-cell p-2 w-1/2">{{ room.room_name }}</div>
                    <div class="table-cell p-2">{{ room.username }}</div>
                    <div class="table-cell p-2 text-right">
                        <a href="/meetings/{{ room.id }}" class="underline">Enter</a> |
                        <a href="/admin/meetings/{{ room.id }}/delete" class="underline">Delete</a>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="table-row hover:bg-slate-100">
                <div class="table-cell p-2">No meetings</div>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}